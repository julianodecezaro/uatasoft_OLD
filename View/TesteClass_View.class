<?php
	
	class TesteClass_View extends TiE_View
	{
		
		public function __construct(&$_db)
		{
			//$this->ErrorCreator_Controller = new ErrorCreator_Controller($this);
			$this->db = $_db;
			$this->controller = new TesteClass_Controller($this);
		}
		
		public function __ini()
		{
			$u = new Usuario_Table($this->db);
			$t = new Teste_Table($this->db);

			//dump($uObj->getColumns());			
			$clause = $u->setValue(array("usua_id"=>1, "usua_nome"=>"Juliano", "usua_bla" => array(1, 2, 5, 75), "usua_tche"=>array("ronaldo", "maria")), 
				array("usua_bla"));
			
			$q = new TiE_Query();
			$q->select(array("usua_id", "usua_nome")) .
			$q->from($u) . 
			$q->leftjoin($t) . 
			$q->join($u) . 
			$q->rightjoin($t) . 
			$q->innerjoin($u) . 
			$q->outerjoin($t) . 
			$q->where($clause);

			dump(PHP_EOL.$q->get());

			$q2 = new TiE_Query();
			$q2->update($u);
			$q2->set($clause);
			$q2->where($clause);

			dump(PHP_EOL.$q2->get());

			$q3 = new TiE_Query();
			$q3->insert($u);
			$q3->values($clause);

			dump(PHP_EOL.$q3->get());
			//$u = new Usuario_Table($this->db);
			//$u->get();
		}
		
	}
	
?>